(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{502:function(e,t,r){"use strict";r.r(t);var a=r(5),n=r(0),s=r.n(n),c=r(18),u=r.n(c),o=r(28),i=r(594),l=r(608),d=r(16),p=r(12),j=r.n(p),m=r(25),b=r(201),f=r.n(b),O=r(313),x={InternalError:1,WrongParams:2,DatabaseError:3,UsernameOccupied:4,EntityNotFound:5,WrongCredentials:6,NotAuth:7,SessionNotFound:8},h=function(e){var t=Object.entries(x).find((function(t){var r=Object(O.a)(t,2);r[0];return r[1]==e}));return"Error: ".concat(t?t[0]:"Unknown")},g=f.a.create({baseURL:"/api",timeout:3e4,withCredentials:!0});g.interceptors.response.use((function(e){return e.data}),(function(e){return e.response?Object(d.a)({status:e.response.status},e.response.data):{status:500,success:!1,error:x.InternalError}}));var v=g.get;g.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e].toString())})).join("&");return v("".concat(e,"?").concat(r))},g.blob=function(){var e=Object(m.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(t,{responseType:"blob"});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Failed to parse a BLOB file"),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var y=g,P={getList:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filter,r=t.pagination,t.sort,e.next=3,y.get("/users",{pageIndex:r.page,pageSize:r.perPage});case 3:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:a.data.items||[],total:a.data.total||0}));case 8:return e.abrupt("return",Promise.reject({status:a.status,message:h(a.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,y.get("/users/".concat(r));case 3:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:a.data.item}));case 8:return e.abrupt("return",Promise.reject({status:a.status,message:h(a.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMany:function(e){return console.warn("Method getMany not implemented"),Promise.reject({status:400,message:"Error: GetMany method is not implemented"})},getManyReference:function(e){return console.warn("Method getManyReference not implemented"),Promise.reject({status:400,message:"Error: GetManyReference method is not implemented"})},create:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n,s,c,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,a=r.email,n=r.fullname,s=r.password,c=r.username,e.next=3,y.post("/users",{email:a,fullname:n,password:s,username:c});case 3:if(!(u=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:{id:u.data.id,email:a,fullname:n,username:c}}));case 8:return e.abrupt("return",Promise.reject({status:u.status,message:h(u.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.previousData,e.next=3,y.delete("/users/".concat(r));case 3:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:Object(d.a)(Object(d.a)({},a),{},{id:n.data.id})}));case 8:return e.abrupt("return",Promise.reject({status:n.status,message:h(n.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMany:function(e){return console.warn("Method deleteMany not implemented"),Promise.reject({status:400,message:"Error: DeleteMany method is not implemented"})},update:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.data,t.previousData,e.next=3,y.put("/users/".concat(r),Object(d.a)({},a));case 3:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:n.data.item}));case 8:return e.abrupt("return",Promise.reject({status:n.status,message:h(n.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=r(208),k={getList:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filter,r=t.pagination,t.sort,e.next=3,y.get("/products",{pageIndex:r.page,pageSize:r.perPage});case 3:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:a.data.items||[],total:a.data.total||0}));case 8:return e.abrupt("return",Promise.reject({status:a.status,message:h(a.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,y.get("/products/".concat(r));case 3:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:a.data.item}));case 8:return e.abrupt("return",Promise.reject({status:a.status,message:h(a.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMany:function(e){return console.warn("Method getMany not implemented"),Promise.reject({status:400,message:"Error: GetMany method is not implemented"})},getManyReference:function(e){return console.warn("Method getManyReference not implemented"),Promise.reject({status:400,message:"Error: GetManyReference method is not implemented"})},create:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n,s,c,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.data,a=r.image,n=Object(w.a)(r,["image"]),s=null,!a){e.next=12;break}return e.prev=3,e.next=6,y.blob(a.src);case 6:s=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",Promise.reject({message:"Error: Failed to upload image file"}));case 12:return c=new FormData,Object.keys(n).forEach((function(e){c.append(e,n[e])})),s&&c.append("uploadingImage",s),e.next=17,y.post("/products",c);case 17:if(!(u=e.sent).success){e.next=22;break}return e.abrupt("return",Promise.resolve({data:u.data.item}));case 22:return e.abrupt("return",Promise.reject({status:u.status,message:h(u.error)}));case 23:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.previousData,e.next=3,y.delete("/products/".concat(r));case 3:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:Object(d.a)(Object(d.a)({},a),{},{id:n.data.id})}));case 8:return e.abrupt("return",Promise.reject({status:n.status,message:h(n.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMany:function(e){return console.warn("Method deleteMany not implemented"),Promise.reject({status:400,message:"Error: DeleteMany method is not implemented"})},update:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n,s,c,u,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,a=t.data,n=a.image,a.img,s=Object(w.a)(a,["image","img"]),c=null,!n){e.next=13;break}return e.prev=4,e.next=7,y.blob(n.src);case 7:c=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",Promise.reject({message:"Error: Failed to upload image file"}));case 13:return u=new FormData,Object.keys(s).forEach((function(e){u.append(e,s[e])})),null!==c&&u.append("uploadingImage",c),e.next=18,y.put("/products/".concat(r),u);case 18:if(!(o=e.sent).success){e.next=23;break}return e.abrupt("return",Promise.resolve({data:o.data.item}));case 23:return e.abrupt("return",Promise.reject({status:o.status,message:h(o.error)}));case 24:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},M={getList:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filter,r=t.pagination,t.sort,e.next=3,y.get("/orders",{pageIndex:r.page,pageSize:r.perPage});case 3:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:a.data.items||[],total:a.data.total||0}));case 8:return e.abrupt("return",Promise.reject({status:a.status,message:h(a.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,y.get("/orders/".concat(r));case 3:if((a=e.sent).success){e.next=6;break}return e.abrupt("return",Promise.reject({status:a.status,message:h(a.error)}));case 6:return n=a.data.item.positions,e.next=9,Promise.all((n||[]).map((function(e){return y.get("/products/".concat(e.id))})));case 9:if(!(s=e.sent).some((function(e){return!e.success}))){e.next=14;break}return e.abrupt("return",Promise.resolve({data:a.data.item}));case 14:return e.abrupt("return",Promise.resolve({data:Object(d.a)(Object(d.a)({},a.data.item),{},{positions:s.map((function(e){return Object(d.a)(Object(d.a)({},e.data.item),{},{amount:n.find((function(t){return t.id==e.data.item.id})).amount})}))})}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMany:function(e){return console.warn("Method getMany not implemented"),Promise.reject({status:400,message:"Error: GetMany method is not implemented"})},getManyReference:function(e){return console.warn("Method getManyReference not implemented"),Promise.reject({status:400,message:"Error: GetManyReference method is not implemented"})},create:function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Method create not implemented"),e.abrupt("return",Promise.reject({status:400,message:"Error: Create method is not implemented"}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.previousData,e.next=3,y.delete("/orders/".concat(r));case 3:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:Object(d.a)(Object(d.a)({},a),{},{id:n.data.id})}));case 8:return e.abrupt("return",Promise.reject({status:n.status,message:h(n.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMany:function(e){return console.warn("Method deleteMany not implemented"),Promise.reject({status:400,message:"Error: DeleteMany method is not implemented"})},update:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.data,t.previousData,e.next=3,y.put("/orders/".concat(r),Object(d.a)({},a));case 3:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:n.data.item}));case 8:return e.abrupt("return",Promise.reject({status:n.status,message:h(n.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cancel:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,y.post("/orders/cancel/".concat(r));case 3:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:{id:r}}));case 8:Promise.reject({status:a.status,message:h(a.error)});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),complete:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,y.post("/orders/complete/".concat(r));case 3:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve({data:{id:r}}));case 8:Promise.reject({status:a.status,message:h(a.error)});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E={getList:function(e,t){switch(e){case"users":return P.getList(t);case"products":return k.getList(t);case"orders":return M.getList(t);default:return Promise.reject()}},getOne:function(e,t){switch(e){case"users":return P.getOne(t);case"products":return k.getOne(t);case"orders":return M.getOne(t);default:return Promise.reject()}},getMany:function(e,t){switch(e){case"users":return P.getMany(t);case"products":return k.getMany(t);case"orders":return M.getMany(t);default:return Promise.reject()}},getManyReference:function(e,t){switch(e){case"users":return P.getManyReference(t);case"products":return k.getManyReference(t);case"orders":return M.getManyReference(t);default:return Promise.reject()}},create:function(e,t){switch(e){case"users":return P.create(t);case"products":return k.create(t);case"orders":return M.create(t);default:return Promise.reject()}},update:function(e,t){switch(e){case"users":return P.update(t);case"products":return k.update(t);case"orders":return M.update(t);default:return Promise.reject()}},updateMany:function(e,t){switch(e){case"users":return P.updateMany(t);case"products":return k.updateMany(t);case"orders":return M.updateMany(t);default:return Promise.reject()}},delete:function(e,t){switch(e){case"users":return P.delete(t);case"products":return k.delete(t);case"orders":return M.delete(t);default:return Promise.reject()}},deleteMany:function(e,t){switch(e){case"users":return P.deleteMany(t);case"products":return k.deleteMany(t);case"orders":return M.deleteMany(t);default:return Promise.reject()}},cancel:function(e,t){return"orders"==e?M.cancel(t):Promise.reject()},complete:function(e,t){return"orders"==e?M.complete(t):Promise.reject()}},D={login:function(){var e=Object(m.a)(j.a.mark((function e(t){var r,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.password,e.next=3,y.post("/auth/login",{username:r,password:a});case 3:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",Promise.resolve());case 8:return e.abrupt("return",Promise.reject({status:n.status,message:h(n.error)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),checkError:function(e){return console.log("check error",e),401==e.status||403==e.status?Promise.reject():Promise.resolve()},checkAuth:function(){var e=Object(m.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/auth");case 2:if(!(r=e.sent).success){e.next=7;break}return e.abrupt("return",Promise.resolve());case 7:return e.abrupt("return",Promise.reject({status:r.status,message:h(r.error)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/auth/logout");case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getIdentity:function(){var e=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/auth/user");case 2:if(!(t=e.sent).success){e.next=7;break}return e.abrupt("return",Promise.resolve({id:t.data.id,fullName:t.data.fullname||t.data.username}));case 7:return e.abrupt("return",Promise.resolve());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPermissions:function(e){return Promise.resolve()}},R=r(595),C=r(596),I=r(579),T=r(607),B=r(580),L=r(581),F=r(582),N=r(603),S=function(e){return Object(a.jsx)(R.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(a.jsxs)(C.a,{children:[Object(a.jsx)(I.a,{source:"id"}),Object(a.jsx)(I.a,{source:"username"}),Object(a.jsx)(T.a,{source:"email"}),Object(a.jsx)(B.a,{source:"active"}),Object(a.jsx)(L.a,{showTime:!0,source:"lastLogin"}),Object(a.jsx)(F.a,{}),Object(a.jsx)(N.a,{})]})}))},U=r(601),G=r(597),A=r(316),H=r(584),q=function(e){return Object(a.jsx)(U.a,Object(d.a)(Object(d.a)({},e),{},{title:"Create new user",children:Object(a.jsxs)(G.a,{children:[Object(a.jsx)(A.a,{label:"Username",source:"username"}),Object(a.jsx)(H.a,{label:"Password",source:"password"}),Object(a.jsx)(A.a,{label:"Fullname",source:"fullname"}),Object(a.jsx)(A.a,{label:"Email",source:"email"})]})}))},z=r(598),W=r(604),J=function(e){return Object(a.jsx)(z.a,Object(d.a)(Object(d.a)({},e),{},{title:"Edit user",children:Object(a.jsxs)(G.a,{children:[Object(a.jsx)(A.a,{label:"Username",source:"username",disabled:!0}),Object(a.jsx)(H.a,{label:"Password",source:"password"}),Object(a.jsx)(A.a,{label:"Fullname",source:"fullname"}),Object(a.jsx)(A.a,{label:"Email",source:"email"}),Object(a.jsx)(W.a,{label:"Active",source:"active"})]})}))},Q=function(e){return Object(a.jsx)(R.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(a.jsxs)(C.a,{children:[Object(a.jsx)(I.a,{source:"id"}),Object(a.jsx)(I.a,{source:"nameitem"}),Object(a.jsx)(I.a,{source:"brand"}),Object(a.jsx)(I.a,{source:"quality"}),Object(a.jsx)(I.a,{source:"count"}),Object(a.jsx)(F.a,{}),Object(a.jsx)(N.a,{})]})}))},K=r(588),V=r(599),X=r(589),Y=r(170),Z=function(e){return Object(a.jsx)(U.a,Object(d.a)(Object(d.a)({},e),{},{title:"Add new product",children:Object(a.jsxs)(G.a,{children:[Object(a.jsx)(A.a,{label:"Name",source:"nameitem"}),Object(a.jsx)(A.a,{label:"Brand",source:"brand"}),Object(a.jsx)(A.a,{label:"Quality",source:"quality"}),Object(a.jsx)(A.a,{label:"Typeitem",source:"typeitem"}),Object(a.jsx)(A.a,{label:"Type",source:"type"}),Object(a.jsx)(K.a,{label:"Price",source:"price",step:1}),Object(a.jsx)(K.a,{label:"Price Opt",source:"priceopt",step:1}),Object(a.jsx)(K.a,{label:"Stock count",source:"count",step:1}),Object(a.jsx)(V.a,{accept:"image/*",label:"Image",source:"image",children:Object(a.jsx)(X.a,{source:"src",title:"title"})}),Object(a.jsx)(A.a,{label:"Description Header",source:"descriptionHeader"}),Object(a.jsx)(Y.a,{label:"Description",source:"description",multiline:!0}),Object(a.jsx)(A.a,{label:"meta: idmodallink",source:"idmodallink"}),Object(a.jsx)(A.a,{label:"meta: idmodal",source:"idmodal"}),Object(a.jsx)(A.a,{label:"meta: altimg",source:"altimg"})]})}))},$=r(590),_=function(e){return Object(a.jsx)(z.a,Object(d.a)(Object(d.a)({},e),{},{title:"Edit product",children:Object(a.jsxs)(G.a,{children:[Object(a.jsx)(A.a,{label:"Name",source:"nameitem"}),Object(a.jsx)(A.a,{label:"Brand",source:"brand"}),Object(a.jsx)(A.a,{label:"Quality",source:"quality"}),Object(a.jsx)(A.a,{label:"Typeitem",source:"typeitem"}),Object(a.jsx)(A.a,{label:"Type",source:"type"}),Object(a.jsx)(K.a,{label:"Price",source:"price",step:1}),Object(a.jsx)(K.a,{label:"Price Opt",source:"priceopt",step:1}),Object(a.jsx)(K.a,{label:"Stock count",source:"count",step:1}),Object(a.jsx)($.a,{label:"Current product image",render:function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{alt:"Product preview",src:(t=e.img,"".concat("/product-images","/").concat(t))})});var t}}),Object(a.jsx)(V.a,{accept:"image/*",label:"Change image",source:"image",children:Object(a.jsx)(X.a,{source:"src"})}),Object(a.jsx)(A.a,{label:"Description Header",source:"descriptionHeader"}),Object(a.jsx)(Y.a,{label:"Description",source:"description",multiline:!0}),Object(a.jsx)(A.a,{label:"meta: idmodallink",source:"idmodallink"}),Object(a.jsx)(A.a,{label:"meta: idmodal",source:"idmodal"}),Object(a.jsx)(A.a,{label:"meta: altimg",source:"altimg"})]})}))},ee=r(606),te=r(587),re=function(e){return Object(a.jsx)(R.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(a.jsxs)(C.a,{children:[Object(a.jsx)(I.a,{source:"id"}),Object(a.jsx)(L.a,{showTime:!0,source:"date"}),Object(a.jsx)(I.a,{source:"customerName"}),Object(a.jsx)(I.a,{source:"customerPhone"}),Object(a.jsx)(I.a,{source:"total"}),Object(a.jsx)(B.a,{source:"discount"}),Object(a.jsx)(ee.a,{source:"status"}),Object(a.jsx)(te.a,{label:"Details"}),Object(a.jsx)(N.a,{label:"Delete"})]})}))},ae=r(602),ne=r(591),se=r(592),ce=r(593),ue=r(87),oe=r(507),ie=r(147),le=r(569),de=r(111),pe=function(e){var t=e.basePath,r=e.data,s=e.resource,c=Object(ie.a)(),u=Object(le.a)(),o=Object(de.a)(),i=n.useCallback((function(){o.complete(s,{id:r.id}).then((function(e){var r=e.data;u(t),c("Order #".concat(r.id," has been completed!"),"info")})).catch((function(e){c(e.message,"error")}))}),[c,u,s,r,t,o]),l=n.useCallback((function(){o.cancel(s,{id:r.id}).then((function(e){var r=e.data;u(t),c("Order #".concat(r.id," has been cancelled!"),"info")})).catch((function(e){c(e.message,"error")}))}),[c,s,u,r,t,o]);return!r||"Cancelled"!=r.status&&"Completed"!=r.status?Object(a.jsxs)(ue.a,{children:[Object(a.jsx)(oe.a,{onClick:l,children:"Mark as Cancelled"}),Object(a.jsx)(oe.a,{onClick:i,children:"Mark as Completed"})]}):null},je=function(e){return Object(a.jsx)(ae.a,Object(d.a)(Object(d.a)({actions:Object(a.jsx)(pe,{})},e),{},{children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)("h2",{children:"Order info"}),Object(a.jsx)(I.a,{label:"Order ID",source:"id"}),Object(a.jsx)(L.a,{label:"Date",source:"date",showTime:!0,options:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}}),Object(a.jsx)($.a,{label:"Payment Type",render:function(e){switch(e.paymentType){case 0:return"By card (Payture)";default:return"By money transfer"}}}),Object(a.jsx)(ee.a,{label:"Order Status",source:"status"}),Object(a.jsx)(se.a,{label:"Total",source:"total",options:{style:"currency",currency:"RUB"}}),Object(a.jsx)(B.a,{label:"With discount",source:"discount"}),Object(a.jsx)("h2",{children:"Customer contacts"}),Object(a.jsx)(I.a,{label:"Name",source:"customerName"}),Object(a.jsx)(I.a,{label:"Phone",source:"customerPhone"}),Object(a.jsx)("h2",{children:"Positions"}),Object(a.jsx)(ce.a,{source:"positions",fieldKey:"id",children:Object(a.jsxs)(C.a,{children:[Object(a.jsx)(I.a,{label:"Product ID",source:"id"}),Object(a.jsx)(I.a,{label:"Product name",source:"nameitem"}),Object(a.jsx)(se.a,{label:"Price",source:"price",options:{style:"currency",currency:"RUB"}}),Object(a.jsx)(se.a,{label:"Discount Price",source:"priceopt",options:{style:"currency",currency:"RUB"}}),Object(a.jsx)(se.a,{label:"Amount",source:"amount"})]})})]})}))},me=function(){return Object(a.jsxs)(i.a,{dataProvider:E,authProvider:D,children:[Object(a.jsx)(l.a,{name:"users",list:S,create:q,edit:J}),Object(a.jsx)(l.a,{name:"products",list:Q,create:Z,edit:_}),Object(a.jsx)(l.a,{name:"orders",list:re,show:je})]})};u.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(o.a,{children:Object(a.jsx)(me,{})})}),document.getElementById("root"))}},[[502,1,2]]]);
//# sourceMappingURL=main.08997d62.chunk.js.map